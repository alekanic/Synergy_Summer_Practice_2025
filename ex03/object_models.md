# Модели объектов программы генерации случайных чисел

## Обзор архитектуры

Программа использует простую архитектуру с основными типами данных Python и минимальным количеством пользовательских объектов. Основной фокус сделан на функциональном программировании с использованием встроенных структур данных.

## Основные типы данных

### 1. Список (List) - `numbers`

**Описание**: Основная структура данных для хранения сгенерированных случайных чисел.

**Тип**: `list[int]`

**Операции**:
- `append(random_number)` - добавление нового числа
- `len(numbers)` - получение количества элементов
- `enumerate(numbers, 1)` - итерация с нумерацией

**Пример использования**:
```python
numbers = []  # Инициализация пустого списка
numbers.append(42)  # Добавление числа
count = len(numbers)  # Подсчёт элементов
```

### 2. Целое число (Integer) - `random_number`

**Описание**: Случайное число, генерируемое в каждой итерации цикла.

**Тип**: `int`

**Диапазон**: 1-100

**Генерация**: `random.randint(1, 100)`

**Пример использования**:
```python
random_number = random.randint(1, 100)
print(f"Сгенерировано число: {random_number}")
```

### 3. Строка (String) - `user_input`

**Описание**: Сырой ввод пользователя, полученный через функцию `input()`.

**Тип**: `str`

**Обработка**: Преобразование в `int` с обработкой ошибок

**Пример использования**:
```python
user_input = input("Введите число (0 для остановки): ")
try:
    user_number = int(user_input)
except ValueError:
    print("Ошибка! Пожалуйста, введите целое число.")
```

### 4. Целое число (Integer) - `user_number`

**Описание**: Преобразованное число пользователя для проверки условия остановки.

**Тип**: `int`

**Условие остановки**: `user_number == 0`

**Пример использования**:
```python
if user_number == 0:
    break
else:
    print(f"Вы ввели: {user_number}")
```

## Функции и их параметры

### 1. `generate_random_sequence()`

**Описание**: Основная функция программы.

**Параметры**: Нет

**Возвращаемое значение**: `None`

**Локальные переменные**:
- `numbers: list[int]` - список для хранения чисел
- `random_number: int` - текущее сгенерированное число
- `user_input: str` - ввод пользователя
- `user_number: int` - преобразованное число пользователя

**Пример вызова**:
```python
if __name__ == "__main__":
    generate_random_sequence()
```

### 2. `random.randint(a, b)`

**Описание**: Функция генерации случайного целого числа в заданном диапазоне.

**Параметры**:
- `a: int` - нижняя граница (включительно)
- `b: int` - верхняя граница (включительно)

**Возвращаемое значение**: `int`

**Пример использования**:
```python
random_number = random.randint(1, 100)
```

### 3. `input(prompt)`

**Описание**: Функция получения ввода от пользователя.

**Параметры**:
- `prompt: str` - приглашение для ввода

**Возвращаемое значение**: `str`

**Пример использования**:
```python
user_input = input("Введите число (0 для остановки): ")
```

### 4. `int(x)`

**Описание**: Функция преобразования строки в целое число.

**Параметры**:
- `x: str` - строка для преобразования

**Возвращаемое значение**: `int`

**Исключения**: `ValueError` при некорректном вводе

**Пример использования**:
```python
try:
    user_number = int(user_input)
except ValueError:
    print("Ошибка! Пожалуйста, введите целое число.")
```

### 5. `enumerate(iterable, start)`

**Описание**: Функция создания итератора с нумерацией.

**Параметры**:
- `iterable: list` - итерируемый объект
- `start: int` - начальный номер (по умолчанию 0)

**Возвращаемое значение**: `enumerate object`

**Пример использования**:
```python
for i, num in enumerate(numbers, 1):
    print(f"{i}. {num}")
```

## Структуры данных в тестах

### 1. `TestRandomNumberGenerator` (класс)

**Описание**: Класс для тестирования основной функциональности.

**Методы**:
- `setUp()` - настройка перед каждым тестом
- `test_immediate_stop()` - тест немедленной остановки
- `test_multiple_numbers()` - тест множественных чисел
- `test_invalid_input_handling()` - тест обработки ошибок
- `test_random_number_range()` - тест диапазона чисел
- `test_large_sequence()` - тест длинной последовательности

### 2. `TestProgramLogic` (класс)

**Описание**: Класс для тестирования логики программы.

**Методы**:
- `test_zero_termination()` - тест завершения при нуле
- `test_number_collection()` - тест сбора чисел

## Модель состояния программы

### Состояние во время выполнения

```python
{
    "numbers": [42, 17, 89, 3],  # Список сгенерированных чисел
    "current_iteration": 4,       # Текущая итерация
    "last_generated": 3,          # Последнее сгенерированное число
    "user_inputs": ["5", "10", "7", "0"],  # История вводов пользователя
    "is_running": True            # Флаг работы программы
}
```

### Переходы состояний

1. **Инициализация**:
   ```
   numbers: [] → numbers: [random_number]
   ```

2. **Добавление числа**:
   ```
   numbers: [n1, n2, ..., nk] → numbers: [n1, n2, ..., nk, nk+1]
   ```

3. **Завершение**:
   ```
   is_running: True → is_running: False
   ```

## Обработка ошибок

### Исключения

1. **ValueError**:
   - **Причина**: Некорректный ввод пользователя
   - **Обработка**: Вывод сообщения об ошибке и повторный запрос
   - **Восстановление**: Продолжение цикла

### Валидация данных

1. **Проверка типа ввода**:
   ```python
   try:
       user_number = int(user_input)
   except ValueError:
       # Обработка ошибки
   ```

2. **Проверка условия остановки**:
   ```python
   if user_number == 0:
       break
   ```

## Производительность

### Временная сложность
- **Генерация числа**: O(1)
- **Добавление в список**: O(1)
- **Вывод результата**: O(n), где n - количество чисел

### Пространственная сложность
- **Хранение чисел**: O(n), где n - количество сгенерированных чисел
- **Переменные**: O(1)

### Оптимизации
- Использование списка для динамического хранения
- Эффективная итерация с `enumerate`
- Минимальное количество переменных 