# Отчет по практике - Кейс-задача № 4
## Определение дней до Нового года и високосного года

### Описание задачи

Разработать веб-приложение, которое позволяет пользователю ввести дату в формате дд.мм.гггг и получить два результата:
1. Количество дней, оставшихся до Нового года (31.12.гггг)
2. Информацию о том, является ли введенный год високосным

### Требования к интерфейсу

- Создать интерфейс с полем ввода, кнопкой и двумя блоками для вывода результатов
- Стилизовать элементы так, чтобы они располагались посередине экрана браузера
- Обеспечить современный и удобный пользовательский интерфейс

### Структура проекта

```
ex04/
├── index.html      # Основной HTML файл с разметкой
├── styles.css      # Стили для интерфейса
├── script.js       # JavaScript логика приложения
├── README.md       # Документация проекта
└── отчет_практика.md # Данный отчет
```

### Реализация HTML-разметки

Основная структура интерфейса реализована в файле `index.html`:

```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор дней до Нового года</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Калькулятор дней до Нового года</h1>
        
        <div class="input-section">
            <input type="text" id="dateInput" placeholder="Введите дату в формате дд.мм.гггг" maxlength="10">
            <button id="calculateBtn">Рассчитать</button>
        </div>
        
        <div class="results">
            <div id="daysResult" class="result-box">
                <h3>Дни до Нового года:</h3>
                <p id="daysText">-</p>
            </div>
            
            <div id="leapYearResult" class="result-box">
                <h3>Високосный год:</h3>
                <p id="leapYearText">-</p>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
```

### Стилизация интерфейса

Файл `styles.css` содержит стили для создания современного и отзывчивого интерфейса:

```css
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

.container {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    text-align: center;
    max-width: 500px;
    width: 90%;
}
```

Ключевые особенности стилизации:
- **Центрирование**: Использование flexbox для центрирования контейнера
- **Градиентный фон**: Красивый градиент для фона страницы
- **Тени и скругления**: Современный дизайн с тенями и скругленными углами
- **Адаптивность**: Интерфейс адаптируется под разные размеры экрана

### JavaScript логика

#### Функция определения високосного года

```javascript
function isLeapYear(year) {
    // Високосный год делится нацело на 4, но не кратен 100
    // Однако, если кратен 400, то также считается високосным
    return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
}
```

Эта функция реализует стандартные правила определения високосного года:
- Год должен делиться на 4 без остатка
- Если год делится на 100, он НЕ является високосным
- Исключение: если год делится на 400, он является високосным

#### Функция подсчета дней до Нового года

```javascript
function calculateDaysToNewYear(dateString) {
    // Парсим дату в формате дд.мм.гггг
    const parts = dateString.split('.');
    if (parts.length !== 3) {
        throw new Error('Неверный формат даты. Используйте формат дд.мм.гггг');
    }

    const day = parseInt(parts[0]);
    const month = parseInt(parts[1]);
    const year = parseInt(parts[2]);

    // Проверяем корректность даты
    if (isNaN(day) || isNaN(month) || isNaN(year)) {
        throw new Error('Неверный формат даты');
    }

    // Создаем объект Date для введенной даты
    const inputDate = new Date(year, month - 1, day);
    
    // Создаем дату Нового года
    const newYearDate = new Date(year, 11, 31); // 31 декабря текущего года

    // Если введенная дата после Нового года, считаем до следующего года
    if (inputDate > newYearDate) {
        const nextNewYear = new Date(year + 1, 11, 31);
        const diffTime = nextNewYear - inputDate;
        return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    } else {
        // Считаем дни до Нового года текущего года
        const diffTime = newYearDate - inputDate;
        return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    }
}
```

#### Обработка пользовательского ввода

```javascript
function handleCalculate() {
    const dateString = dateInput.value.trim();
    
    if (!dateString) {
        showError('Пожалуйста, введите дату');
        return;
    }

    try {
        // Парсим дату для определения года
        const parts = dateString.split('.');
        const year = parseInt(parts[2]);
        
        // Подсчитываем дни до Нового года
        const daysToNewYear = calculateDaysToNewYear(dateString);
        
        // Определяем, является ли год високосным
        const leapYear = isLeapYear(year);
        
        // Отображаем результаты
        daysText.textContent = `${daysToNewYear} дней`;
        leapYearText.textContent = leapYear ? 'Високосный' : 'Не високосный';
        
    } catch (error) {
        showError(error.message);
    }
}
```

### Дополнительные возможности

#### Автоматическое форматирование даты

```javascript
dateInput.addEventListener('input', function(event) {
    let value = event.target.value.replace(/\D/g, ''); // Убираем все нецифры
    
    if (value.length >= 2) {
        value = value.slice(0, 2) + '.' + value.slice(2);
    }
    if (value.length >= 5) {
        value = value.slice(0, 5) + '.' + value.slice(5);
    }
    if (value.length > 10) {
        value = value.slice(0, 10);
    }
    
    event.target.value = value;
});
```

#### Обработка ошибок

```javascript
function showError(message) {
    daysText.textContent = 'Ошибка';
    leapYearText.textContent = 'Ошибка';
    
    daysResult.classList.remove('success');
    leapYearResult.classList.remove('success');
    daysResult.classList.add('error');
    leapYearResult.classList.add('error');
    
    console.error(message);
}
```

### Тестирование функциональности

#### Примеры тестовых случаев:

1. **Обычный год**: 15.06.2023 → 199 дней, Не високосный
2. **Високосный год**: 15.06.2024 → 199 дней, Високосный
3. **Новый год**: 31.12.2024 → 0 дней, Високосный
4. **После Нового года**: 01.01.2025 → 364 дней, Не високосный
5. **Некорректная дата**: 32.13.2024 → Ошибка валидации
